# 关于MySQL的配置项和命令相关内容集结

## 配置项（参数）

|                 参数名                 |                       参数释义                       |                    参数值默认值（可选值）                    |                            超链接                            | MySQL支持版本 |
| :------------------------------------: | :--------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :-----------: |
|           net_buffer_length            |                 服务端结果集缓存大小                 |                        16k（最大1G）                         | [查询数据过多，内存怎么处理](bug_你有我也有/(查询)查询数据过多，内存怎么处理.md) |               |
|        innodb_buffer_pool_size         |                      内存页大小                      |              一般推荐设置可用物理内存的60%-80%               | [查询数据过多，内存怎么处理](bug_你有我也有/(查询)查询数据过多，内存怎么处理.md) |               |
|         innodb_old_blocks_time         |         内存页LRU链表old数据变young持续时间          |                         1000，单位ms                         | [查询数据过多，内存怎么处理](bug_你有我也有/(查询)查询数据过多，内存怎么处理.md) |               |
|            join_buffer_size            | join操作时由于被驱动表无索引在内存中做匹配的内存大小 |                             256K                             |      [Join的使用问题](bug_你有我也有/Join的使用问题.md)      |               |
|     innodb_flush_log_at_trx_commit     |                   redolog刷盘策略                    | 0:主线程每s刷盘；1:每次刷盘，提交必须落盘；2：刷到os cache中，可能1s后才会写入磁盘（只有1是安全的） |        [MySQL的更新](do_it_by_myself/MySQL的更新.md)         |               |
|              sync_binlog               |                 binlog刷盘同批次数量                 |  0:表示MySQL不控制binlog刷新；>0:每x次事务提交，刷新binlog   |        [MySQL的更新](do_it_by_myself/MySQL的更新.md)         |               |
|          slave-parallel-type           |                   主备并行复制策略                   |   DATABASE：按库并行复制；LOGICAL_CLOCK：事务优化并行复制    | [MySQL的备库并行复制](do_it_by_myself/MySQL的备库并行复制.md) |      5.7      |
| binlog-transaction-dependency-tracking |           控制是否使用心得主备并行复制策略           | COMMIT_ORDER：使用5.7的并行复制策略；WRITESET：事务间根据操作行并行；WRITESET_SESSION：在WRITESET的基础下保证执行顺序 | [MySQL的备库并行复制](do_it_by_myself/MySQL的备库并行复制.md) |    5.7.22     |
|          session_track_gtids           |                     返回GTID开关                     |              OWN_GTID：可以从返回包里解析出GTID              |    [MySQL的读写分离](do_it_by_myself/MySQL的读写分离.md)     |     5.7.6     |
|          transation-isolation          |                       隔离级别                       |                             rr等                             |    [MySQL的事务隔离](do_it_by_myself/MySQL的事务隔离.md)     |               |
|             tmp_table_size             |          内存临时表大小，超过后会转为磁盘表          |                             16M                              |    [MySQL的随机取值](do_it_by_myself/MySQL的随机取值.md)     |               |
|    internal_tmp_disk_storage_engine    |                   磁盘临时表的引擎                   |                            InnoDB                            |    [MySQL的随机取值](do_it_by_myself/MySQL的随机取值.md)     |               |
|        innodb_lock_wait_timeout        |                 死锁出现后的退出时间                 |                             40S                              |          [MySQL的锁](do_it_by_myself/MySQL的锁.md)           |               |
|         innodb-deadlock-detect         |                   死锁检测是否开启                   |                         on:表示开启                          |          [MySQL的锁](do_it_by_myself/MySQL的锁.md)           |               |
|     innodb_change_buffer_max_size      |          change buffer占用buffer pool的大小          |       如果是50的话就是changebuffer占用bufferpool的50%        | [MySQL的唯一索引和普通索引](do_it_by_myself/MySQL的唯一和普通索引.md) |               |
|             binlog_format              |                    binlog日志格式                    |                     row,statement,mixed                      |   [MySQL误删数据](do_it_by_myself/MySQL的误删数据找回.md)    |               |
|            binlog_row_image            |                 binlog-ROW的记录格式                 | FULL：全部；minimal：记录影响后的行；noblob：记录除了text，blob的列 |   [MySQL误删数据](do_it_by_myself/MySQL的误删数据找回.md)    |               |
|            sql_safe_updates            |                   sql语句误删控制                    |           on:不能执行delete，update后面没有where的           |   [MySQL误删数据](do_it_by_myself/MySQL的误删数据找回.md)    |               |
|           log_slave_updates            |               备库update是否生成binlog               |               on:备库执行relaylog后生成binlog                |    [MySQL的主备一致](do_it_by_myself/MySQL的主备一致.md)     |               |
|                                        |                                                      |                                                              |                                                              |               |
|                                        |                                                      |                                                              |                                                              |               |
|                                        |                                                      |                                                              |                                                              |               |
|                                        |                                                      |                                                              |                                                              |               |
|                                        |                                                      |                                                              |                                                              |       x       |

## 命令

|                  命令详情                  |                  命令意义                  |                            超链接                            | MySQL支持版本 |
| :----------------------------------------: | :----------------------------------------: | :----------------------------------------------------------: | :-----------: |
|            kill query + 线程id             |        终止这个线程中正在执行的语句        |        [语句kill不掉](bug_你有我也有/语句Kill不掉.md)        |               |
|         kill [connection] + 线程id         | 断开这个线程的连接，同时断开正在执行的语句 |        [语句kill不掉](bug_你有我也有/语句Kill不掉.md)        |               |
|              show processlist              |         查看所有语句的线程id和状态         | [语句kill不掉](bug_你有我也有/语句Kill不掉.md)，[MySQL的锁](do_it_by_myself/MySQL的锁.md) |               |
|         show engine innodb status          |               查看innodb状态               | [查询数据过多，内存怎么处理](bug_你有我也有/(查询)查询数据过多，内存怎么处理.md) |               |
| start transaction with consistent snapshot |                直接启动事务                | [MySQL的事务隔离和锁的关系](do_it_by_myself/MySQL的事务隔离和锁的关系.md) |               |
|    select xx from xx lock in share mode    |               当前读，共享锁               | [MySQL的事务隔离和锁的关系](do_it_by_myself/MySQL的事务隔离和锁的关系.md) |               |
|        select xx from xx for update        |               当前读，排他锁               | [MySQL的事务隔离和锁的关系](do_it_by_myself/MySQL的事务隔离和锁的关系.md) |               |
|        Flush tables with read lock         |                 加全局读锁                 |          [MySQL的锁](do_it_by_myself/MySQL的锁.md)           |               |
|      CHANGE MASTER TO MASTER_DELAY=N       |        设置备库与主库保证N秒的延迟         |   [MySQL误删数据](do_it_by_myself/MySQL的误删数据找回.md)    |               |
|             show slave status              |              查询备库同步状态              |    [MySQL的主备一致](do_it_by_myself/MySQL的主备一致.md)     |               |

